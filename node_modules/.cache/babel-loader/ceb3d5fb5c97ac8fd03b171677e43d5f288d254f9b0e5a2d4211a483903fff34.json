{"ast":null,"code":"import React,{useState,useEffect}from'react';import HomeView from'./components/HomeView';import LibraryView from'./components/LibraryView';// <-- ON IMPORTE LA NOUVELLE VUE\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[currentView,setCurrentView]=useState('home');const[allCards,setAllCards]=useState([]);const[itemsData,setItemsData]=useState({});useEffect(()=>{async function loadInitialData(){// ... (le code de chargement ne change pas)\ntry{const[cardsRes,itemsDataRes]=await Promise.all([fetch('/api/cards'),fetch('/api/items-data')]);if(!cardsRes.ok||!itemsDataRes.ok){throw new Error('Erreur serveur');}const cardsJson=await cardsRes.json();const itemsDataJson=await itemsDataRes.json();setAllCards(cardsJson);setItemsData(itemsDataJson);}catch(e){console.error(\"Erreur chargement:\",e);}}loadInitialData();},[]);const renderCurrentView=()=>{switch(currentView){case'review':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Page de R\\xE9vision\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('home'),children:\"\\u2190 Retour \\xE0 l'accueil\"})]});case'manage':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Page de Gestion des Cartes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('home'),children:\"\\u2190 Retour \\xE0 l'accueil\"})]});case'library':// --- MODIFICATION ICI ---\n// On affiche notre nouveau composant et on lui passe les données nécessaires\nreturn/*#__PURE__*/_jsx(LibraryView,{navigateTo:setCurrentView,allCards:allCards,itemsData:itemsData});case'home':default:return/*#__PURE__*/_jsx(HomeView,{navigateTo:setCurrentView,allCards:allCards,itemsData:itemsData});}};return/*#__PURE__*/_jsx(\"div\",{className:\"AppContainer\",children:renderCurrentView()});}export default App;","map":{"version":3,"names":["React","useState","useEffect","HomeView","LibraryView","jsx","_jsx","jsxs","_jsxs","App","currentView","setCurrentView","allCards","setAllCards","itemsData","setItemsData","loadInitialData","cardsRes","itemsDataRes","Promise","all","fetch","ok","Error","cardsJson","json","itemsDataJson","e","console","error","renderCurrentView","children","onClick","navigateTo","className"],"sources":["/Users/xavier/mon-anki-perso/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport HomeView from './components/HomeView';\nimport LibraryView from './components/LibraryView'; // <-- ON IMPORTE LA NOUVELLE VUE\n\nfunction App() {\n  const [currentView, setCurrentView] = useState('home');\n  const [allCards, setAllCards] = useState([]);\n  const [itemsData, setItemsData] = useState({});\n\n  useEffect(() => {\n    async function loadInitialData() {\n      // ... (le code de chargement ne change pas)\n      try {\n        const [cardsRes, itemsDataRes] = await Promise.all([ fetch('/api/cards'), fetch('/api/items-data') ]);\n        if (!cardsRes.ok || !itemsDataRes.ok) { throw new Error('Erreur serveur'); }\n        const cardsJson = await cardsRes.json();\n        const itemsDataJson = await itemsDataRes.json();\n        setAllCards(cardsJson);\n        setItemsData(itemsDataJson);\n      } catch (e) { console.error(\"Erreur chargement:\", e); }\n    }\n    loadInitialData();\n  }, []);\n\n  const renderCurrentView = () => {\n    switch (currentView) {\n      case 'review':\n        return (\n            <div>\n                <h2>Page de Révision</h2>\n                <button onClick={() => setCurrentView('home')}>← Retour à l'accueil</button>\n            </div>\n        );\n      case 'manage':\n        return (\n            <div>\n                <h2>Page de Gestion des Cartes</h2>\n                <button onClick={() => setCurrentView('home')}>← Retour à l'accueil</button>\n            </div>\n        );\n      case 'library':\n        // --- MODIFICATION ICI ---\n        // On affiche notre nouveau composant et on lui passe les données nécessaires\n        return (\n          <LibraryView \n            navigateTo={setCurrentView} \n            allCards={allCards}\n            itemsData={itemsData}\n          />\n        );\n      case 'home':\n      default:\n        return (\n          <HomeView \n            navigateTo={setCurrentView} \n            allCards={allCards}\n            itemsData={itemsData}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className=\"AppContainer\">\n      {renderCurrentView()}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,MAAM,CAAC,CACtD,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACa,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE9CC,SAAS,CAAC,IAAM,CACd,cAAe,CAAAc,eAAeA,CAAA,CAAG,CAC/B;AACA,GAAI,CACF,KAAM,CAACC,QAAQ,CAAEC,YAAY,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAAEC,KAAK,CAAC,YAAY,CAAC,CAAEA,KAAK,CAAC,iBAAiB,CAAC,CAAE,CAAC,CACrG,GAAI,CAACJ,QAAQ,CAACK,EAAE,EAAI,CAACJ,YAAY,CAACI,EAAE,CAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,gBAAgB,CAAC,CAAE,CAC3E,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CACvC,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAR,YAAY,CAACO,IAAI,CAAC,CAAC,CAC/CZ,WAAW,CAACW,SAAS,CAAC,CACtBT,YAAY,CAACW,aAAa,CAAC,CAC7B,CAAE,MAAOC,CAAC,CAAE,CAAEC,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAEF,CAAC,CAAC,CAAE,CACxD,CACAX,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAc,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,OAAQpB,WAAW,EACjB,IAAK,QAAQ,CACX,mBACIF,KAAA,QAAAuB,QAAA,eACIzB,IAAA,OAAAyB,QAAA,CAAI,qBAAgB,CAAI,CAAC,cACzBzB,IAAA,WAAQ0B,OAAO,CAAEA,CAAA,GAAMrB,cAAc,CAAC,MAAM,CAAE,CAAAoB,QAAA,CAAC,8BAAoB,CAAQ,CAAC,EAC3E,CAAC,CAEZ,IAAK,QAAQ,CACX,mBACIvB,KAAA,QAAAuB,QAAA,eACIzB,IAAA,OAAAyB,QAAA,CAAI,4BAA0B,CAAI,CAAC,cACnCzB,IAAA,WAAQ0B,OAAO,CAAEA,CAAA,GAAMrB,cAAc,CAAC,MAAM,CAAE,CAAAoB,QAAA,CAAC,8BAAoB,CAAQ,CAAC,EAC3E,CAAC,CAEZ,IAAK,SAAS,CACZ;AACA;AACA,mBACEzB,IAAA,CAACF,WAAW,EACV6B,UAAU,CAAEtB,cAAe,CAC3BC,QAAQ,CAAEA,QAAS,CACnBE,SAAS,CAAEA,SAAU,CACtB,CAAC,CAEN,IAAK,MAAM,CACX,QACE,mBACER,IAAA,CAACH,QAAQ,EACP8B,UAAU,CAAEtB,cAAe,CAC3BC,QAAQ,CAAEA,QAAS,CACnBE,SAAS,CAAEA,SAAU,CACtB,CAAC,CAER,CACF,CAAC,CAED,mBACER,IAAA,QAAK4B,SAAS,CAAC,cAAc,CAAAH,QAAA,CAC1BD,iBAAiB,CAAC,CAAC,CACjB,CAAC,CAEV,CAEA,cAAe,CAAArB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}