{"ast":null,"code":"import React,{useState,useEffect}from'react';// On reçoit la nouvelle fonction onSaveItem\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function HomeView(_ref){let{navigateTo,allCards,itemsData,onSaveItem}=_ref;const[selectedItem,setSelectedItem]=useState('');const[workshopText,setWorkshopText]=useState('');const sortedItems=Array.from(new Set(allCards.map(c=>c.deck).filter(Boolean))).sort((a,b)=>parseInt(a.split(':')[0],10)-parseInt(b.split(':')[0],10));sortedItems.unshift(\"500: Divers\");useEffect(()=>{if(selectedItem&&itemsData[selectedItem]){setWorkshopText(itemsData[selectedItem]||'');}else{setWorkshopText('');}},[selectedItem,itemsData]);const handleSaveClick=()=>{if(!selectedItem){alert('Veuillez choisir un item.');return;}// ON UTILISE LA FONCTION DU PARENT\nonSaveItem(selectedItem,workshopText);};return/*#__PURE__*/_jsx(\"div\",{id:\"home-view\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mon Anki Perso\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('review'),className:\"home-btn\",children:\"R\\xE9viser\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('manage'),className:\"home-btn\",children:\"Ajouter\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('library'),className:\"home-btn\",children:\"Biblioth\\xE8que\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workshop-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Atelier de cr\\xE9ation rapide\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"workshop-form\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedItem,onChange:e=>setSelectedItem(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Choisir un item --\"}),sortedItems.map(item=>/*#__PURE__*/_jsx(\"option\",{value:item,children:item},item))]}),/*#__PURE__*/_jsx(\"textarea\",{value:workshopText,onChange:e=>setWorkshopText(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveClick,children:\"Enregistrer le texte\"})]})]})]})});}export default HomeView;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","HomeView","_ref","navigateTo","allCards","itemsData","onSaveItem","selectedItem","setSelectedItem","workshopText","setWorkshopText","sortedItems","Array","from","Set","map","c","deck","filter","Boolean","sort","a","b","parseInt","split","unshift","handleSaveClick","alert","id","children","className","onClick","value","onChange","e","target","item"],"sources":["/Users/xavier/mon-anki-perso/src/components/HomeView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\n// On reçoit la nouvelle fonction onSaveItem\nfunction HomeView({ navigateTo, allCards, itemsData, onSaveItem }) {\n  \n  const [selectedItem, setSelectedItem] = useState('');\n  const [workshopText, setWorkshopText] = useState('');\n\n  const sortedItems = Array.from(new Set(allCards.map(c => c.deck).filter(Boolean)))\n    .sort((a, b) => parseInt(a.split(':')[0], 10) - parseInt(b.split(':')[0], 10));\n  sortedItems.unshift(\"500: Divers\");\n\n  useEffect(() => {\n    if (selectedItem && itemsData[selectedItem]) {\n      setWorkshopText(itemsData[selectedItem] || '');\n    } else {\n      setWorkshopText('');\n    }\n  }, [selectedItem, itemsData]);\n\n  const handleSaveClick = () => {\n    if (!selectedItem) {\n      alert('Veuillez choisir un item.');\n      return;\n    }\n    // ON UTILISE LA FONCTION DU PARENT\n    onSaveItem(selectedItem, workshopText);\n  };\n\n  return (\n    <div id=\"home-view\">\n      <div className=\"home-container\">\n        <h1>Mon Anki Perso</h1>\n        <div className=\"home-actions\">{/* ... boutons ... */}\n            <button onClick={() => navigateTo('review')} className=\"home-btn\">Réviser</button>\n            <button onClick={() => navigateTo('manage')} className=\"home-btn\">Ajouter</button>\n            <button onClick={() => navigateTo('library')} className=\"home-btn\">Bibliothèque</button> \n        </div>\n        <div className=\"workshop-container\">\n          <h2>Atelier de création rapide</h2>\n          <div className=\"workshop-form\">\n            <select value={selectedItem} onChange={(e) => setSelectedItem(e.target.value)}>\n              <option value=\"\">-- Choisir un item --</option>\n              {sortedItems.map(item => (<option key={item} value={item}>{item}</option>))}\n            </select>\n            <textarea value={workshopText} onChange={(e) => setWorkshopText(e.target.value)} />\n            <button onClick={handleSaveClick}>Enregistrer le texte</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default HomeView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}