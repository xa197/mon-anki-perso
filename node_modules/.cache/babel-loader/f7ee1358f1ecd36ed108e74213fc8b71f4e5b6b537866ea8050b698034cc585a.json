{"ast":null,"code":"import React,{useState}from'react';// Reçoit les questions et une fonction `onQuizEnd` pour signaler la fin\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function QuizView(_ref){let{questions,onQuizEnd}=_ref;const[currentQuestionIndex,setCurrentQuestionIndex]=useState(0);const[selectedAnswer,setSelectedAnswer]=useState(null);const[feedback,setFeedback]=useState('');const[score,setScore]=useState(0);const[quizFinished,setQuizFinished]=useState(false);if(!questions||questions.length===0){return/*#__PURE__*/_jsxs(\"div\",{id:\"quiz-view\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Erreur\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Aucune question n'a pu \\xEAtre g\\xE9n\\xE9r\\xE9e.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onQuizEnd,children:\"Retour\"})]});}const currentQuestion=questions[currentQuestionIndex];const handleAnswerClick=answer=>{if(selectedAnswer)return;setSelectedAnswer(answer);if(answer===currentQuestion.answer){setFeedback('Bonne réponse !');setScore(s=>s+1);}else{setFeedback(\"Mauvaise r\\xE9ponse. La bonne r\\xE9ponse \\xE9tait : \".concat(currentQuestion.answer));}};const handleNextQuestion=()=>{if(currentQuestionIndex<questions.length-1){setSelectedAnswer(null);setFeedback('');setCurrentQuestionIndex(currentQuestionIndex+1);}else{setQuizFinished(true);}};if(quizFinished){return/*#__PURE__*/_jsxs(\"div\",{id:\"quiz-results-view\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Quiz Termin\\xE9 !\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Votre score est de : \",score,\" / \",questions.length]}),/*#__PURE__*/_jsx(\"button\",{onClick:onQuizEnd,children:\"Retour\"})]});}return/*#__PURE__*/_jsxs(\"div\",{id:\"quiz-view\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-header\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onQuizEnd,children:\"\\u2190 Quitter\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Quiz\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"quiz-progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{id:\"quiz-progress-value\",style:{width:\"\".concat((currentQuestionIndex+1)/questions.length*100,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{id:\"quiz-container\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"quiz-question-text\",children:currentQuestion.question}),/*#__PURE__*/_jsx(\"div\",{id:\"quiz-options-container\",children:currentQuestion.options.map((option,index)=>{let buttonClass='';if(selectedAnswer){if(option===currentQuestion.answer){buttonClass='correct';}else if(option===selectedAnswer){buttonClass='incorrect';}}return/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAnswerClick(option),className:buttonClass,disabled:!!selectedAnswer,children:option},index);})}),/*#__PURE__*/_jsx(\"div\",{id:\"quiz-feedback\",children:feedback}),selectedAnswer&&/*#__PURE__*/_jsx(\"button\",{id:\"next-question-btn\",onClick:handleNextQuestion,children:\"Question suivante \\u2192\"})]})]});}export default QuizView;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","QuizView","_ref","questions","onQuizEnd","currentQuestionIndex","setCurrentQuestionIndex","selectedAnswer","setSelectedAnswer","feedback","setFeedback","score","setScore","quizFinished","setQuizFinished","length","id","children","onClick","currentQuestion","handleAnswerClick","answer","s","concat","handleNextQuestion","className","style","width","question","options","map","option","index","buttonClass","disabled"],"sources":["/Users/xavier/mon-anki-perso/src/components/QuizView.js"],"sourcesContent":["import React, { useState } from 'react';\n\n// Reçoit les questions et une fonction `onQuizEnd` pour signaler la fin\nfunction QuizView({ questions, onQuizEnd }) {\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [feedback, setFeedback] = useState('');\n  const [score, setScore] = useState(0);\n  const [quizFinished, setQuizFinished] = useState(false);\n\n  if (!questions || questions.length === 0) {\n    return (\n      <div id=\"quiz-view\">\n        <h2>Erreur</h2>\n        <p>Aucune question n'a pu être générée.</p>\n        <button onClick={onQuizEnd}>Retour</button>\n      </div>\n    );\n  }\n\n  const currentQuestion = questions[currentQuestionIndex];\n\n  const handleAnswerClick = (answer) => {\n    if (selectedAnswer) return;\n    setSelectedAnswer(answer);\n    if (answer === currentQuestion.answer) {\n      setFeedback('Bonne réponse !');\n      setScore(s => s + 1);\n    } else {\n      setFeedback(`Mauvaise réponse. La bonne réponse était : ${currentQuestion.answer}`);\n    }\n  };\n\n  const handleNextQuestion = () => {\n    if (currentQuestionIndex < questions.length - 1) {\n      setSelectedAnswer(null);\n      setFeedback('');\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\n    } else {\n      setQuizFinished(true);\n    }\n  };\n\n  if (quizFinished) {\n    return (\n      <div id=\"quiz-results-view\">\n        <h2>Quiz Terminé !</h2>\n        <p>Votre score est de : {score} / {questions.length}</p>\n        <button onClick={onQuizEnd}>Retour</button>\n      </div>\n    );\n  }\n\n  return (\n    <div id=\"quiz-view\">\n      <div className=\"quiz-header\">\n        <button onClick={onQuizEnd}>← Quitter</button>\n        <h2>Quiz</h2>\n      </div>\n      <div id=\"quiz-progress-bar\">\n        <div id=\"quiz-progress-value\" style={{ width: `${((currentQuestionIndex + 1) / questions.length) * 100}%` }}></div>\n      </div>\n      <div id=\"quiz-container\">\n        <p id=\"quiz-question-text\">{currentQuestion.question}</p>\n        <div id=\"quiz-options-container\">\n          {currentQuestion.options.map((option, index) => {\n            let buttonClass = '';\n            if (selectedAnswer) {\n              if (option === currentQuestion.answer) { buttonClass = 'correct'; } \n              else if (option === selectedAnswer) { buttonClass = 'incorrect'; }\n            }\n            return (<button key={index} onClick={() => handleAnswerClick(option)} className={buttonClass} disabled={!!selectedAnswer}>{option}</button>);\n          })}\n        </div>\n        <div id=\"quiz-feedback\">{feedback}</div>\n        {selectedAnswer && <button id=\"next-question-btn\" onClick={handleNextQuestion}>Question suivante →</button>}\n      </div>\n    </div>\n  );\n}\n\nexport default QuizView;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAEvC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAA2B,IAA1B,CAAEC,SAAS,CAAEC,SAAU,CAAC,CAAAF,IAAA,CACxC,KAAM,CAACG,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CACnE,KAAM,CAACW,cAAc,CAAEC,iBAAiB,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CACrC,KAAM,CAACiB,YAAY,CAAEC,eAAe,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAEvD,GAAI,CAACO,SAAS,EAAIA,SAAS,CAACY,MAAM,GAAK,CAAC,CAAE,CACxC,mBACEf,KAAA,QAAKgB,EAAE,CAAC,WAAW,CAAAC,QAAA,eACjBnB,IAAA,OAAAmB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfnB,IAAA,MAAAmB,QAAA,CAAG,kDAAoC,CAAG,CAAC,cAC3CnB,IAAA,WAAQoB,OAAO,CAAEd,SAAU,CAAAa,QAAA,CAAC,QAAM,CAAQ,CAAC,EACxC,CAAC,CAEV,CAEA,KAAM,CAAAE,eAAe,CAAGhB,SAAS,CAACE,oBAAoB,CAAC,CAEvD,KAAM,CAAAe,iBAAiB,CAAIC,MAAM,EAAK,CACpC,GAAId,cAAc,CAAE,OACpBC,iBAAiB,CAACa,MAAM,CAAC,CACzB,GAAIA,MAAM,GAAKF,eAAe,CAACE,MAAM,CAAE,CACrCX,WAAW,CAAC,iBAAiB,CAAC,CAC9BE,QAAQ,CAACU,CAAC,EAAIA,CAAC,CAAG,CAAC,CAAC,CACtB,CAAC,IAAM,CACLZ,WAAW,wDAAAa,MAAA,CAA+CJ,eAAe,CAACE,MAAM,CAAE,CAAC,CACrF,CACF,CAAC,CAED,KAAM,CAAAG,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAInB,oBAAoB,CAAGF,SAAS,CAACY,MAAM,CAAG,CAAC,CAAE,CAC/CP,iBAAiB,CAAC,IAAI,CAAC,CACvBE,WAAW,CAAC,EAAE,CAAC,CACfJ,uBAAuB,CAACD,oBAAoB,CAAG,CAAC,CAAC,CACnD,CAAC,IAAM,CACLS,eAAe,CAAC,IAAI,CAAC,CACvB,CACF,CAAC,CAED,GAAID,YAAY,CAAE,CAChB,mBACEb,KAAA,QAAKgB,EAAE,CAAC,mBAAmB,CAAAC,QAAA,eACzBnB,IAAA,OAAAmB,QAAA,CAAI,mBAAc,CAAI,CAAC,cACvBjB,KAAA,MAAAiB,QAAA,EAAG,uBAAqB,CAACN,KAAK,CAAC,KAAG,CAACR,SAAS,CAACY,MAAM,EAAI,CAAC,cACxDjB,IAAA,WAAQoB,OAAO,CAAEd,SAAU,CAAAa,QAAA,CAAC,QAAM,CAAQ,CAAC,EACxC,CAAC,CAEV,CAEA,mBACEjB,KAAA,QAAKgB,EAAE,CAAC,WAAW,CAAAC,QAAA,eACjBjB,KAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAR,QAAA,eAC1BnB,IAAA,WAAQoB,OAAO,CAAEd,SAAU,CAAAa,QAAA,CAAC,gBAAS,CAAQ,CAAC,cAC9CnB,IAAA,OAAAmB,QAAA,CAAI,MAAI,CAAI,CAAC,EACV,CAAC,cACNnB,IAAA,QAAKkB,EAAE,CAAC,mBAAmB,CAAAC,QAAA,cACzBnB,IAAA,QAAKkB,EAAE,CAAC,qBAAqB,CAACU,KAAK,CAAE,CAAEC,KAAK,IAAAJ,MAAA,CAAM,CAAClB,oBAAoB,CAAG,CAAC,EAAIF,SAAS,CAACY,MAAM,CAAI,GAAG,KAAI,CAAE,CAAM,CAAC,CAChH,CAAC,cACNf,KAAA,QAAKgB,EAAE,CAAC,gBAAgB,CAAAC,QAAA,eACtBnB,IAAA,MAAGkB,EAAE,CAAC,oBAAoB,CAAAC,QAAA,CAAEE,eAAe,CAACS,QAAQ,CAAI,CAAC,cACzD9B,IAAA,QAAKkB,EAAE,CAAC,wBAAwB,CAAAC,QAAA,CAC7BE,eAAe,CAACU,OAAO,CAACC,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,GAAK,CAC9C,GAAI,CAAAC,WAAW,CAAG,EAAE,CACpB,GAAI1B,cAAc,CAAE,CAClB,GAAIwB,MAAM,GAAKZ,eAAe,CAACE,MAAM,CAAE,CAAEY,WAAW,CAAG,SAAS,CAAE,CAAC,IAC9D,IAAIF,MAAM,GAAKxB,cAAc,CAAE,CAAE0B,WAAW,CAAG,WAAW,CAAE,CACnE,CACA,mBAAQnC,IAAA,WAAoBoB,OAAO,CAAEA,CAAA,GAAME,iBAAiB,CAACW,MAAM,CAAE,CAACN,SAAS,CAAEQ,WAAY,CAACC,QAAQ,CAAE,CAAC,CAAC3B,cAAe,CAAAU,QAAA,CAAEc,MAAM,EAA5GC,KAAqH,CAAC,CAC7I,CAAC,CAAC,CACC,CAAC,cACNlC,IAAA,QAAKkB,EAAE,CAAC,eAAe,CAAAC,QAAA,CAAER,QAAQ,CAAM,CAAC,CACvCF,cAAc,eAAIT,IAAA,WAAQkB,EAAE,CAAC,mBAAmB,CAACE,OAAO,CAAEM,kBAAmB,CAAAP,QAAA,CAAC,0BAAmB,CAAQ,CAAC,EACxG,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAhB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}