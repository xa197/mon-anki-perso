{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function QuizView(_ref){let{navigateTo,questions}=_ref;const[currentQuestionIndex,setCurrentQuestionIndex]=useState(0);const[selectedAnswer,setSelectedAnswer]=useState(null);const[feedback,setFeedback]=useState('');const[score,setScore]=useState(0);const[quizFinished,setQuizFinished]=useState(false);if(!questions||questions.length===0){return/*#__PURE__*/_jsxs(\"div\",{id:\"quiz-view\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Erreur: Aucune question \\xE0 afficher.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('library'),children:\"Retour \\xE0 la biblioth\\xE8que\"})]});}const currentQuestion=questions[currentQuestionIndex];const handleAnswerClick=answer=>{if(selectedAnswer)return;// Empêche de répondre plusieurs fois\nsetSelectedAnswer(answer);if(answer===currentQuestion.answer){setFeedback('Bonne réponse !');setScore(score+1);}else{setFeedback(\"Mauvaise r\\xE9ponse. La bonne r\\xE9ponse \\xE9tait : \".concat(currentQuestion.answer));}};const handleNextQuestion=()=>{setSelectedAnswer(null);setFeedback('');if(currentQuestionIndex<questions.length-1){setCurrentQuestionIndex(currentQuestionIndex+1);}else{setQuizFinished(true);// Fin du quiz\n}};if(quizFinished){return/*#__PURE__*/_jsxs(\"div\",{id:\"quiz-results-view\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Quiz Termin\\xE9 !\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Votre score est de : \",score,\" / \",questions.length]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('library'),children:\"Retour \\xE0 la Biblioth\\xE8que\"})]});}return/*#__PURE__*/_jsxs(\"div\",{id:\"quiz-view\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-header\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('library'),children:\"\\u2190 Biblioth\\xE8que\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Quiz\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"quiz-progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{id:\"quiz-progress-value\",style:{width:\"\".concat((currentQuestionIndex+1)/questions.length*100,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{id:\"quiz-container\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"quiz-question-text\",children:currentQuestion.question}),/*#__PURE__*/_jsx(\"div\",{id:\"quiz-options-container\",children:currentQuestion.options.map((option,index)=>{let buttonClass='';if(selectedAnswer){if(option===currentQuestion.answer){buttonClass='correct';}else if(option===selectedAnswer){buttonClass='incorrect';}}return/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAnswerClick(option),className:buttonClass,disabled:!!selectedAnswer,children:option},index);})}),/*#__PURE__*/_jsx(\"div\",{id:\"quiz-feedback\",children:feedback}),selectedAnswer&&/*#__PURE__*/_jsx(\"button\",{id:\"next-question-btn\",onClick:handleNextQuestion,children:\"Question suivante \\u2192\"})]})]});}export default QuizView;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","QuizView","_ref","navigateTo","questions","currentQuestionIndex","setCurrentQuestionIndex","selectedAnswer","setSelectedAnswer","feedback","setFeedback","score","setScore","quizFinished","setQuizFinished","length","id","children","onClick","currentQuestion","handleAnswerClick","answer","concat","handleNextQuestion","className","style","width","question","options","map","option","index","buttonClass","disabled"],"sources":["/Users/xavier/mon-anki-perso/src/components/QuizView.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction QuizView({ navigateTo, questions }) {\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [feedback, setFeedback] = useState('');\n  const [score, setScore] = useState(0);\n  const [quizFinished, setQuizFinished] = useState(false);\n\n  if (!questions || questions.length === 0) {\n    return (\n      <div id=\"quiz-view\">\n        <p>Erreur: Aucune question à afficher.</p>\n        <button onClick={() => navigateTo('library')}>Retour à la bibliothèque</button>\n      </div>\n    );\n  }\n\n  const currentQuestion = questions[currentQuestionIndex];\n\n  const handleAnswerClick = (answer) => {\n    if (selectedAnswer) return; // Empêche de répondre plusieurs fois\n\n    setSelectedAnswer(answer);\n    if (answer === currentQuestion.answer) {\n      setFeedback('Bonne réponse !');\n      setScore(score + 1);\n    } else {\n      setFeedback(`Mauvaise réponse. La bonne réponse était : ${currentQuestion.answer}`);\n    }\n  };\n\n  const handleNextQuestion = () => {\n    setSelectedAnswer(null);\n    setFeedback('');\n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\n    } else {\n      setQuizFinished(true); // Fin du quiz\n    }\n  };\n\n  if (quizFinished) {\n    return (\n      <div id=\"quiz-results-view\">\n        <h2>Quiz Terminé !</h2>\n        <p>Votre score est de : {score} / {questions.length}</p>\n        <button onClick={() => navigateTo('library')}>Retour à la Bibliothèque</button>\n      </div>\n    );\n  }\n\n  return (\n    <div id=\"quiz-view\">\n      <div className=\"quiz-header\">\n        <button onClick={() => navigateTo('library')}>← Bibliothèque</button>\n        <h2>Quiz</h2>\n      </div>\n      <div id=\"quiz-progress-bar\">\n        <div id=\"quiz-progress-value\" style={{ width: `${((currentQuestionIndex + 1) / questions.length) * 100}%` }}></div>\n      </div>\n      <div id=\"quiz-container\">\n        <p id=\"quiz-question-text\">{currentQuestion.question}</p>\n        <div id=\"quiz-options-container\">\n          {currentQuestion.options.map((option, index) => {\n            let buttonClass = '';\n            if (selectedAnswer) {\n              if (option === currentQuestion.answer) {\n                buttonClass = 'correct';\n              } else if (option === selectedAnswer) {\n                buttonClass = 'incorrect';\n              }\n            }\n            return (\n              <button key={index} onClick={() => handleAnswerClick(option)} className={buttonClass} disabled={!!selectedAnswer}>\n                {option}\n              </button>\n            );\n          })}\n        </div>\n        <div id=\"quiz-feedback\">{feedback}</div>\n        {selectedAnswer && <button id=\"next-question-btn\" onClick={handleNextQuestion}>Question suivante →</button>}\n      </div>\n    </div>\n  );\n}\n\nexport default QuizView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}