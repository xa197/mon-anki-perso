{"ast":null,"code":"import React,{useState,useEffect}from'react';import HomeView from'./components/HomeView';// Importez les autres vues ici quand elles seront prêtes\n// import ReviewView from './components/ReviewView'; \n// import ManageView from './components/ManageView';\n// import LibraryView from './components/LibraryView';\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// L'état 'currentView' nous dit quelle page afficher. On commence par 'home'.\nconst[currentView,setCurrentView]=useState('home');// Ces états contiendront vos données quand les API fonctionneront\nconst[allCards,setAllCards]=useState([]);const[itemsData,setItemsData]=useState({});// useEffect est l'équivalent de \"DOMContentLoaded\" pour React.\n// Il se lance une seule fois au démarrage pour charger les données.\nuseEffect(()=>{async function loadInitialData(){try{const[cardsRes,itemsDataRes]=await Promise.all([fetch('/api/cards'),fetch('/api/items-data')]);if(!cardsRes.ok||!itemsDataRes.ok){throw new Error('La réponse du serveur n\\'est pas OK');}const cardsJson=await cardsRes.json();const itemsDataJson=await itemsDataRes.json();setAllCards(cardsJson);setItemsData(itemsDataJson);console.log(\"Données chargées !\",{cards:cardsJson,items:itemsDataJson});}catch(e){console.error(\"Erreur de chargement initial des données:\",e);}}loadInitialData();},[]);// Le tableau vide [] signifie : \"ne lance cet effet qu'une seule fois\".\n// Cette fonction choisit le bon composant à afficher\nconst renderCurrentView=()=>{switch(currentView){case'review':// Pour l'instant, on affiche un simple message\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Page de R\\xE9vision\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('home'),children:\"\\u2190 Retour \\xE0 l'accueil\"})]});case'manage':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Page de Gestion des Cartes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('home'),children:\"\\u2190 Retour \\xE0 l'accueil\"})]});case'library':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Biblioth\\xE8que\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('home'),children:\"\\u2190 Retour \\xE0 l'accueil\"})]});case'home':default:// On passe la fonction setCurrentView à notre composant HomeView\n// pour qu'il puisse changer de page.\nreturn/*#__PURE__*/_jsx(HomeView,{navigateTo:setCurrentView});}};return/*#__PURE__*/_jsx(\"div\",{className:\"AppContainer\",children:renderCurrentView()});}export default App;","map":{"version":3,"names":["React","useState","useEffect","HomeView","jsx","_jsx","jsxs","_jsxs","App","currentView","setCurrentView","allCards","setAllCards","itemsData","setItemsData","loadInitialData","cardsRes","itemsDataRes","Promise","all","fetch","ok","Error","cardsJson","json","itemsDataJson","console","log","cards","items","e","error","renderCurrentView","children","onClick","navigateTo","className"],"sources":["/Users/xavier/mon-anki-perso/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport HomeView from './components/HomeView';\n// Importez les autres vues ici quand elles seront prêtes\n// import ReviewView from './components/ReviewView'; \n// import ManageView from './components/ManageView';\n// import LibraryView from './components/LibraryView';\n\nfunction App() {\n  // L'état 'currentView' nous dit quelle page afficher. On commence par 'home'.\n  const [currentView, setCurrentView] = useState('home');\n  \n  // Ces états contiendront vos données quand les API fonctionneront\n  const [allCards, setAllCards] = useState([]);\n  const [itemsData, setItemsData] = useState({});\n\n  // useEffect est l'équivalent de \"DOMContentLoaded\" pour React.\n  // Il se lance une seule fois au démarrage pour charger les données.\n  useEffect(() => {\n    async function loadInitialData() {\n      try {\n        const [cardsRes, itemsDataRes] = await Promise.all([\n          fetch('/api/cards'),\n          fetch('/api/items-data')\n        ]);\n        \n        if (!cardsRes.ok || !itemsDataRes.ok) {\n            throw new Error('La réponse du serveur n\\'est pas OK');\n        }\n\n        const cardsJson = await cardsRes.json();\n        const itemsDataJson = await itemsDataRes.json();\n        \n        setAllCards(cardsJson);\n        setItemsData(itemsDataJson);\n        console.log(\"Données chargées !\", { cards: cardsJson, items: itemsDataJson });\n\n      } catch (e) {\n        console.error(\"Erreur de chargement initial des données:\", e);\n      }\n    }\n    loadInitialData();\n  }, []); // Le tableau vide [] signifie : \"ne lance cet effet qu'une seule fois\".\n\n  // Cette fonction choisit le bon composant à afficher\n  const renderCurrentView = () => {\n    switch (currentView) {\n      case 'review':\n        // Pour l'instant, on affiche un simple message\n        return (\n            <div>\n                <h2>Page de Révision</h2>\n                <button onClick={() => setCurrentView('home')}>← Retour à l'accueil</button>\n            </div>\n        );\n      case 'manage':\n        return (\n            <div>\n                <h2>Page de Gestion des Cartes</h2>\n                <button onClick={() => setCurrentView('home')}>← Retour à l'accueil</button>\n            </div>\n        );\n      case 'library':\n        return (\n            <div>\n                <h2>Bibliothèque</h2>\n                <button onClick={() => setCurrentView('home')}>← Retour à l'accueil</button>\n            </div>\n        );\n      case 'home':\n      default:\n        // On passe la fonction setCurrentView à notre composant HomeView\n        // pour qu'il puisse changer de page.\n        return <HomeView navigateTo={setCurrentView} />;\n    }\n  };\n\n  return (\n    <div className=\"AppContainer\">\n      {renderCurrentView()}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}